{"version":3,"sources":["components/Post/Post.tsx","App/App.tsx","index.tsx","components/Post/Post.module.css","App/App.module.css"],"names":["getPost","postUrl","a","fetch","process","response","ok","json","console","log","status","Post","useState","url","setUrl","thumbnail","setThumbnail","error","setError","useEffect","trim","then","postInfo","width","thumbnail_width","height","thumbnail_height","thumbnail_url","catch","className","styles","PostHeader","PostTextField","PostTextFieldError","name","placeholder","value","onChange","event","target","PostMeta","toFixed","alt","PostThumbnail","src","App","AppHeader","AppPosts","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"0RAKMA,EAAO,uCAAG,WAAOC,GAAP,eAAAC,EAAA,sEACWC,MAAM,wDAAD,OACgCF,EADhC,yBACwDG,kBADxD,YACuFA,qCAFvG,YACNC,EADM,QAKCC,GALD,gCAMKD,EAASE,OANd,+CAQRC,QAAQC,IAAR,qDAA4BJ,EAASK,SAR7B,4CAAH,sDAmFEC,EAvEQ,WAAO,IAAD,EACHC,mBAAS,IADN,mBAClBC,EADkB,KACbC,EADa,OAESF,mBAA4B,MAFrC,mBAElBG,EAFkB,KAEPC,EAFO,OAGCJ,oBAAS,GAHV,mBAGlBK,EAHkB,KAGXC,EAHW,KAgCzB,OAvBAC,qBACI,WACSN,GAAQA,EAAIO,QAIjBpB,EAAQa,GACHQ,MAAK,SAACC,GACHJ,GAAS,GAETF,EAAa,CACTO,MAAOD,EAASE,gBAChBC,OAAQH,EAASI,iBACjBb,IAAKS,EAASK,mBAGrBC,OAAM,WACHV,GAAS,QAGrB,CAACL,IAID,sBAAKgB,UAAWC,IAAOnB,KAAvB,UACI,sBAAKkB,UAAWC,IAAOC,WAAvB,UACI,uBACIF,UAAS,UAAKC,IAAOE,cAAZ,YAA8Bf,EAASa,IAAOG,mBAAqB,IAC5EC,KAAK,MACLC,YAAY,iCACZC,MAAOvB,EACPwB,SAnCK,SAACC,GAClBxB,EAAOwB,EAAMC,OAAOH,WAsCPnB,GACDF,GACAA,EAAUQ,OACVR,EAAUU,QACN,sBAAKI,UAAWC,IAAOU,SAAvB,UACI,uCACWzB,EAAUQ,MADrB,MAC+BR,EAAUU,UAEzC,yCACaV,EAAUQ,MAAQR,EAAUU,QAAQgB,QAAQ,aAQpExB,GACDF,GACAA,EAAUF,KACN,qBAAK6B,IAAI,GAAGb,UAAWC,IAAOa,cAAeC,IAAK7B,EAAUF,UC/DjEgC,EAdO,kBAClB,sBAAKhB,UAAWC,IAAOe,IAAvB,UACI,qBAAKhB,UAAWC,IAAOgB,UAAvB,SACI,iEAGJ,sBAAKjB,UAAWC,IAAOiB,SAAvB,UACI,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,WCRZC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,U,kBCR1BC,EAAOC,QAAU,CAAC,KAAO,mBAAmB,WAAa,yBAAyB,cAAgB,4BAA4B,mBAAqB,iCAAiC,SAAW,uBAAuB,cAAgB,8B,kBCAtOD,EAAOC,QAAU,CAAC,IAAM,iBAAiB,UAAY,uBAAuB,SAAW,yB","file":"static/js/main.4a06d2ce.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useDebouncedFn } from 'beautiful-react-hooks';\nimport { IPostInfo, IThumbnail } from '../../interfaces';\nimport styles from './Post.module.css';\n\nconst getPost = async (postUrl: string) => {\n    const response = await fetch(\n        `https://graph.facebook.com/v8.0/instagram_oembed?url=${postUrl}&access_token=${process.env.REACT_APP_FB_ID}|${process.env.REACT_APP_FB_ACCESS_TOKEN}`\n    );\n\n    if (response.ok) {\n        return await response.json();\n    } else {\n        console.log(`Ошибка HTTP: ${response.status}`);\n    }\n};\n\nconst Post: React.FC = () => {\n    const [url, setUrl] = useState('');\n    const [thumbnail, setThumbnail] = useState<IThumbnail | null>(null);\n    const [error, setError] = useState(false);\n\n    const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        setUrl(event.target.value);\n    };\n\n    useEffect(\n        () => {\n            if (!url || !url.trim()) {\n                return;\n            }\n\n            getPost(url)\n                .then((postInfo:IPostInfo) => {\n                    setError(false);\n\n                    setThumbnail({\n                        width: postInfo.thumbnail_width,\n                        height: postInfo.thumbnail_height,\n                        url: postInfo.thumbnail_url,\n                    });\n                })\n                .catch(() => {\n                    setError(true);\n                });\n        },\n        [url]\n    );\n\n    return (\n        <div className={styles.Post}>\n            <div className={styles.PostHeader}>\n                <input\n                    className={`${styles.PostTextField} ${(error) ? styles.PostTextFieldError : ''}`}\n                    name=\"url\"\n                    placeholder=\"Insert the Instagram post link\"\n                    value={url}\n                    onChange={handleChange}\n                />\n\n                {\n                    !error &&\n                    thumbnail &&\n                    thumbnail.width &&\n                    thumbnail.height && (\n                        <div className={styles.PostMeta}>\n                            <p>\n                                size: {thumbnail.width} x {thumbnail.height}\n                            </p>\n                            <p>\n                                ratio: {(thumbnail.width / thumbnail.height).toFixed(3)}\n                            </p>\n                        </div>\n                    )\n                }\n            </div>\n\n            {\n                !error &&\n                thumbnail &&\n                thumbnail.url && (\n                    <img alt=\"\" className={styles.PostThumbnail} src={thumbnail.url} />\n                )\n            }\n        </div>\n    );\n};\n\nexport default Post;\n","import React from 'react';\nimport styles from './App.module.css';\nimport Post from '../components/Post/Post';\n\nconst App: React.FC = () => (\n    <div className={styles.App}>\n        <div className={styles.AppHeader}>\n            <h1>Instagram. Posts&nbsp;Comparing</h1>\n        </div>\n\n        <div className={styles.AppPosts}>\n            <Post />\n            <Post />\n            <Post />\n        </div>\n    </div>\n);\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Post\":\"Post_Post__2uao7\",\"PostHeader\":\"Post_PostHeader__2DZit\",\"PostTextField\":\"Post_PostTextField__2ezc_\",\"PostTextFieldError\":\"Post_PostTextFieldError__VfHIU\",\"PostMeta\":\"Post_PostMeta__1lPrZ\",\"PostThumbnail\":\"Post_PostThumbnail__1tK9f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2htTF\",\"AppHeader\":\"App_AppHeader__2GlIR\",\"AppPosts\":\"App_AppPosts__27Q0L\"};"],"sourceRoot":""}