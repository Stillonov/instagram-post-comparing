{"version":3,"sources":["components/Post/Post.module.css","components/Post/Post.tsx","components/App/App.tsx","index.tsx","components/App/App.module.css"],"names":["module","exports","getPost","postUrl","a","fetch","process","response","ok","json","console","log","status","Post","useState","thumbnail","setThumbnail","error","setError","handleChange","useDebouncedFn","event","url","target","value","trim","then","postInfo","width","thumbnail_width","height","thumbnail_height","thumbnail_url","catch","className","styles","PostHeader","PostTextField","PostTextFieldError","name","placeholder","onChange","PostMeta","toFixed","alt","PostThumbnail","src","App","AppHeader","AppPosts","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"oJACAA,EAAOC,QAAU,CAAC,KAAO,mBAAmB,WAAa,yBAAyB,cAAgB,4BAA4B,mBAAqB,iCAAiC,SAAW,uBAAuB,cAAgB,8B,iKCIhOC,EAAO,uCAAG,WAAOC,GAAP,eAAAC,EAAA,sEACWC,MAAM,wDAAD,OACgCF,EADhC,yBACwDG,kBADxD,YACuFA,qCAFvG,YACNC,EADM,QAKCC,GALD,gCAMKD,EAASE,OANd,+CAQRC,QAAQC,IAAR,qDAA4BJ,EAASK,SAR7B,4CAAH,sDA8EEC,EAlEQ,WAAO,IAAD,EACSC,mBAA4B,MADrC,mBAClBC,EADkB,KACPC,EADO,OAECF,oBAAS,GAFV,mBAElBG,EAFkB,KAEXC,EAFW,KAInBC,EAAeC,aAAe,SAACC,GACjC,IAAMC,EAAMD,EAAME,OAAOC,MAEpBF,GAAQA,EAAIG,OAMjBvB,EAAQoB,GACHI,MAAK,SAACC,GACHT,GAAS,GAETF,EAAa,CACTY,MAAOD,EAASE,gBAChBC,OAAQH,EAASI,iBACjBT,IAAKK,EAASK,mBAGrBC,OAAM,WACHf,GAAS,MAhBbF,EAAa,QAkBlB,KAEH,OACI,sBAAKkB,UAAWC,IAAOtB,KAAvB,UACI,sBAAKqB,UAAWC,IAAOC,WAAvB,UACI,uBACIF,UAAS,UAAKC,IAAOE,cAAZ,YAA8BpB,EAASkB,IAAOG,mBAAqB,IAC5EC,KAAK,MACLC,YAAY,iCACZC,SAAUtB,KAITF,GACDF,GACAA,EAAUa,OACVb,EAAUe,QACN,sBAAKI,UAAWC,IAAOO,SAAvB,UACI,uCACW3B,EAAUa,MADrB,MAC+Bb,EAAUe,UAEzC,yCACaf,EAAUa,MAAQb,EAAUe,QAAQa,QAAQ,aAQpE1B,GACDF,GACAA,EAAUO,KACN,qBAAKsB,IAAI,GAAGV,UAAWC,IAAOU,cAAeC,IAAK/B,EAAUO,UC1DjEyB,EAdO,kBAClB,sBAAKb,UAAWC,IAAOY,IAAvB,UACI,qBAAKb,UAAWC,IAAOa,UAAvB,SACI,iEAGJ,sBAAKd,UAAWC,IAAOc,SAAvB,UACI,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,WCRZC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,U,kBCR1BtD,EAAOC,QAAU,CAAC,IAAM,iBAAiB,UAAY,uBAAuB,SAAW,yB","file":"static/js/main.51dd7f34.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Post\":\"Post_Post__2uao7\",\"PostHeader\":\"Post_PostHeader__2DZit\",\"PostTextField\":\"Post_PostTextField__2ezc_\",\"PostTextFieldError\":\"Post_PostTextFieldError__VfHIU\",\"PostMeta\":\"Post_PostMeta__1lPrZ\",\"PostThumbnail\":\"Post_PostThumbnail__1tK9f\"};","import React, { useState } from 'react';\nimport { useDebouncedFn } from 'beautiful-react-hooks';\nimport { IPostInfo, IThumbnail } from '../../interfaces';\nimport styles from './Post.module.css';\n\nconst getPost = async (postUrl: string) => {\n    const response = await fetch(\n        `https://graph.facebook.com/v8.0/instagram_oembed?url=${postUrl}&access_token=${process.env.REACT_APP_FB_ID}|${process.env.REACT_APP_FB_ACCESS_TOKEN}`\n    );\n\n    if (response.ok) {\n        return await response.json();\n    } else {\n        console.log(`Ошибка HTTP: ${response.status}`);\n    }\n};\n\nconst Post: React.FC = () => {\n    const [thumbnail, setThumbnail] = useState<IThumbnail | null>(null);\n    const [error, setError] = useState(false);\n\n    const handleChange = useDebouncedFn((event: React.ChangeEvent<HTMLInputElement>) => {\n        const url = event.target.value;\n\n        if (!url || !url.trim()) {\n            setThumbnail(null);\n\n            return;\n        }\n\n        getPost(url)\n            .then((postInfo:IPostInfo) => {\n                setError(false);\n\n                setThumbnail({\n                    width: postInfo.thumbnail_width,\n                    height: postInfo.thumbnail_height,\n                    url: postInfo.thumbnail_url,\n                });\n            })\n            .catch(() => {\n                setError(true);\n            });\n    }, 300);\n\n    return (\n        <div className={styles.Post}>\n            <div className={styles.PostHeader}>\n                <input\n                    className={`${styles.PostTextField} ${(error) ? styles.PostTextFieldError : ''}`}\n                    name=\"url\"\n                    placeholder=\"Insert the Instagram post link\"\n                    onChange={handleChange}\n                />\n\n                {\n                    !error &&\n                    thumbnail &&\n                    thumbnail.width &&\n                    thumbnail.height && (\n                        <div className={styles.PostMeta}>\n                            <p>\n                                size: {thumbnail.width} x {thumbnail.height}\n                            </p>\n                            <p>\n                                ratio: {(thumbnail.width / thumbnail.height).toFixed(3)}\n                            </p>\n                        </div>\n                    )\n                }\n            </div>\n\n            {\n                !error &&\n                thumbnail &&\n                thumbnail.url && (\n                    <img alt=\"\" className={styles.PostThumbnail} src={thumbnail.url} />\n                )\n            }\n        </div>\n    );\n};\n\nexport default Post;\n","import React from 'react';\nimport styles from './App.module.css';\nimport Post from '../Post/Post';\n\nconst App: React.FC = () => (\n    <div className={styles.App}>\n        <div className={styles.AppHeader}>\n            <h1>Instagram. Posts&nbsp;Comparing</h1>\n        </div>\n\n        <div className={styles.AppPosts}>\n            <Post />\n            <Post />\n            <Post />\n        </div>\n    </div>\n);\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__aOmNj\",\"AppHeader\":\"App_AppHeader__1RQkw\",\"AppPosts\":\"App_AppPosts__17Ybj\"};"],"sourceRoot":""}